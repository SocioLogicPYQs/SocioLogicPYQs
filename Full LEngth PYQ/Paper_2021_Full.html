<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YOUR PYQ BATTLE</title>
    <style>
        :root {
            --brand-main: #2563eb;
            --brand-grad: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            --bg-grad: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
            --card-bg: #ffffff;
            --text-main: #0f172a;
            --text-light: #64748b;
            --success: #15803d;
            --danger: #b91c1c;
            --review: #7c3aed;
            --selected: #eff6ff;
            --radius: 16px;
            --shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-grad);
            color: var(--text-main);
            height: 100vh;
            height: 100dvh;
            /* Mobile Chrome Fix */
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- 1. WELCOME SCREEN --- */
        #welcome-screen {
            position: fixed;
            inset: 0;
            z-index: 200;
            background: white;
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 24px 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- UPDATED WELCOME SCREEN (Wider & Premium) --- */
        .welcome-card {
            background: white;
            width: 90%;
            /* Good for Mobile */
            max-width: 700px;
            /* Increased from 450px for Laptop (Wider look) */
            padding: 50px;
            /* More spacious "Grand" feel */
            border-radius: 24px;
            /* Softer corners */
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15);
            /* Deeper shadow */
            text-align: center;
            border: 1px solid #e2e8f0;
            max-height: 90vh;
            overflow-y: auto;
            display: flex;
            /* Fixes layout alignment */
            flex-direction: column;
            align-items: center;
            /* Centers everything perfectly */
        }

        /* Ensure input fields don't stretch too ugly on the wide screen */
        .welcome-card .input-field {
            max-width: 500px;
            /* Keeps inputs looking neat */
            width: 100%;
        }

        /* Mobile Adjustment */
        @media(max-width: 600px) {
            .welcome-card {
                width: 95%;
                /* Maximize space on phone */
                padding: 30px 20px;
                /* Slightly tighter padding for small screens */
            }
        }

        .mode-selector {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
        }

        .mode-btn {
            flex: 1;
            padding: 15px 10px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: 0.2s;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: #64748b;
            font-weight: 600;
        }

        .mode-btn.active {
            border-color: #2563eb;
            background: #eff6ff;
            color: #2563eb;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
            transform: translateY(-2px);
        }

        /* --- SCORECARD GRID STYLES --- */
        .score-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 25px;
            margin-bottom: 10px;
        }

        .score-card-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            text-align: center;
        }

        .sc-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .sc-value {
            font-size: 1.5rem;
            font-weight: 800;
        }

        .input-field {
            width: 100%;
            padding: 15px;
            margin: 15px 0;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1.1rem;
            outline: none;
            text-align: center;
            font-weight: 600;
            transition: 0.2s;
        }

        .input-field:focus {
            border-color: #2563eb;
        }

        #attempt-badge {
            display: inline-block;
            background: #fff7ed;
            color: #c2410c;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            border: 1px solid #ffedd5;
            margin-bottom: 20px;
        }

        /* --- 2. MAIN INTERFACE --- */
        #app-wrapper {
            display: none;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }

        /* Header */
        nav {
            background: var(--brand-grad);
            color: white;
            height: 64px;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            z-index: 50;
            flex-shrink: 0;
        }

        .timer-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 8px;
            font-family: monospace;
            font-weight: 700;
            font-size: 1.1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
        }

        /* Main Area */
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .main-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            justify-content: center;
        }

        .q-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            height: fit-content;
            border-top: 5px solid #2563eb;
            animation: slideUp 0.3s ease-out;
            margin-bottom: 40px;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 1px solid #e2e8f0;
            padding-bottom: 15px;
        }

        .topic-tag {
            background: #eff6ff;
            color: #1e40af;
            padding: 5px 12px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .q-text {
            font-size: 1.2rem;
            font-weight: 600;
            line-height: 1.6;
            color: var(--text-main);
            margin-bottom: 25px;
        }

        /* Options */
        .option {
            display: flex;
            align-items: flex-start;
            padding: 16px 20px;
            margin-bottom: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
            line-height: 1.5;
        }

        .option:hover {
            border-color: #93c5fd;
            background: #f8fafc;
        }

        .option.selected {
            border-color: #2563eb;
            background: var(--selected);
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.1);
        }

        .option.selected .opt-key {
            background: #2563eb;
            color: white;
            border-color: #2563eb;
        }

        .option.review-marked {
            border-color: var(--review);
            background: #f5f3ff;
        }

        .option.review-marked .opt-key {
            background: var(--review);
            color: white;
            border-color: var(--review);
        }

        .opt-key {
            min-width: 32px;
            height: 32px;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #64748b;
            margin-right: 15px;
            font-size: 0.9rem;
        }

        /* Sidebar (Desktop Default) */
        .sidebar {
            width: 340px;
            background: white;
            border-left: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            z-index: 40;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .sb-grid {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            overflow-y: auto;
            align-content: start;
        }

        .grid-btn {
            aspect-ratio: 1;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            color: #64748b;
            background: white;
        }

        /* States */
        .st-curr {
            border-color: #2563eb;
            color: #2563eb;
            box-shadow: inset 0 0 0 2px #2563eb;
        }

        .st-ans {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .st-rev {
            background: #f59e0b;
            border-color: #f59e0b;
            color: white;
        }

        .st-ans-rev {
            background: var(--review);
            border-color: var(--review);
            color: white;
        }

        /* Footer */
        .footer-bar {
            height: 72px;
            background: white;
            border-top: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            z-index: 30;
            flex-shrink: 0;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            transition: 0.2s;
            white-space: nowrap;
        }

        .btn-pri {
            background: #1e40af;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(30, 64, 175, 0.2);
        }

        .btn-sec {
            background: white;
            border: 2px solid #e2e8f0;
            color: #475569;
        }

        .btn-rev {
            background: #fffbeb;
            color: #b45309;
            border: 1px solid #fcd34d;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        /* --- PREMIUM MOBILE/TABLET ADAPTATION --- */
        /* Only activates when 'mobile-mode' class is on body */
        body.mobile-mode .sidebar {
            position: fixed;
            right: 0;
            top: 64px;
            bottom: 0;
            width: 85%;
            max-width: 320px;
            transform: translateX(100%);
            /* Hidden by default */
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.2);
        }

        body.mobile-mode .sidebar.active {
            transform: translateX(0);
        }

        /* Slide in */

        body.mobile-mode .main-area {
            padding: 15px;
        }

        body.mobile-mode .q-card {
            padding: 25px;
            border-radius: 12px;
        }

        /* Bigger Touch Targets for Mobile */
        body.mobile-mode .option {
            padding: 18px 15px;
            margin-bottom: 12px;
        }

        body.mobile-mode .btn {
            padding: 14px 18px;
            font-size: 1rem;
        }

        body.mobile-mode .footer-bar {
            height: 80px;
            padding: 0 15px;
        }

        /* Hide Text Labels on Mobile Footer if needed to fit */
        body.mobile-mode .btn-sec span {
            display: none;
        }

        body.mobile-mode .btn svg {
            display: block;
        }

        /* --- COMPACT RESULT CARD STYLES --- */
        /* --- UPDATED WIDTH FOR RESULT CARD --- */
        .res-card {
            background: #ffffff;
            width: 95%;
            /* Uses 95% screen width on Mobile */
            max-width: 900px;
            /* Increased from 500px to 900px for Laptop */
            max-height: 90vh;
            /* Keeps it fitting vertically */
            border-radius: 20px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
            animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .res-header {
            background: var(--brand-grad);
            padding: 20px;
            /* Reduced padding */
            text-align: center;
            color: white;
            flex-shrink: 0;
            position: relative;
            overflow: hidden;
        }

        .res-header h2 {
            font-size: 1.1rem;
            margin: 0 0 15px 0;
            opacity: 0.95;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        /* Compact Score Grid */
        .score-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            /* 4 items in one row */
            gap: 8px;
            margin: 0;
        }

        .score-card-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 4px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            text-align: center;
        }

        .sc-label {
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.85;
            margin-bottom: 3px;
            font-weight: 600;
        }

        .sc-value {
            font-size: 1.15rem;
            font-weight: 700;
            line-height: 1.1;
        }

        /* Result Body */
        .res-body {
            padding: 20px;
            overflow-y: auto;
            flex: 1;
            background: #f8fafc;
        }

        /* Analysis Boxes */
        .analysis-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .analysis-box {
            background: white;
            padding: 12px 15px;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
        }

        .ab-title {
            font-size: 0.7rem;
            font-weight: 700;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .ab-val {
            font-size: 0.9rem;
            font-weight: 700;
            color: #334155;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* --- MISSING OVERLAY & EXPLANATION STYLES --- */
        .overlay {
            display: none;
            /* Hidden by default */
            position: fixed;
            inset: 0;
            z-index: 1000;
            background: rgba(15, 23, 42, 0.8);
            /* Dark background */
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.2s ease-out;
        }

        /* Explanation Feed Styling */
        .exp-row {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
        }

        .exp-row.correct {
            border-left: 5px solid #16a34a;
        }

        .exp-row.wrong {
            border-left: 5px solid #dc2626;
        }

        .exp-detail {
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            margin-top: 15px;
            padding-top: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .why-box {
            font-size: 0.9rem;
            line-height: 1.5;
            color: #334155;
        }

        .txt-green {
            color: #16a34a;
            font-weight: 700;
        }

        .txt-red {
            color: #dc2626;
            font-weight: 700;
        }

        /* Mobile Tweak: Stack scores if screen is too small */
        @media(max-width: 400px) {
            .score-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* --- PREMIUM HISTORY MODAL --- */
        #history-modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 250;
            background: rgba(15, 23, 42, 0.7);
            /* Darker blur */
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(8px);
            animation: fadeIn 0.2s ease-out;
        }

        .history-card {
            background: white;
            width: 90%;
            max-width: 550px;
            max-height: 80vh;
            border-radius: 24px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .hist-header {
            padding: 25px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .hist-title {
            font-size: 1.25rem;
            font-weight: 800;
            color: #1e293b;
            letter-spacing: -0.5px;
        }

        .hist-close {
            background: #fee2e2;
            color: #ef4444;
            border: none;
            padding: 8px 16px;
            border-radius: 99px;
            font-weight: 700;
            cursor: pointer;
            font-size: 0.85rem;
            transition: 0.2s;
        }

        .hist-close:hover {
            background: #fecaca;
            transform: scale(1.05);
        }

        .hist-list {
            padding: 20px;
            overflow-y: auto;
            background: #f8fafc;
            flex: 1;
        }

        /* The Individual Attempt Card */
        .hist-item {
            background: white;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 12px;
            border: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
        }

        .hist-item:hover {
            transform: translateY(-3px);
            border-color: #3b82f6;
            box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.1);
        }

        .h-left {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .h-title {
            font-weight: 700;
            color: #334155;
            font-size: 1rem;
        }

        .h-date {
            font-size: 0.8rem;
            color: #94a3b8;
            font-weight: 500;
        }

        .h-score-badge {
            background: #eff6ff;
            color: #2563eb;
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: 800;
            font-size: 1.1rem;
            border: 1px solid #dbeafe;
        }

        /* Empty State */
        .hist-empty {
            text-align: center;
            padding: 40px;
            color: #94a3b8;
            font-style: italic;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @media(max-width: 768px) {
            .analysis-row {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
            }

            /* Default hide on small screens until toggled */
            .sidebar.active {
                display: flex;
                position: fixed;
                right: 0;
                top: 64px;
                bottom: 0;
                width: 85%;
                transform: none;
                box-shadow: -10px 0 20px rgba(0, 0, 0, 0.2);
            }
        }


        /* --- NEW HEADER STYLES --- */
        .header-left-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-box {
            background: white;
            width: 45px;
            height: 45px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .logo-box img {
            max-width: 80%;
            max-height: 80%;
            object-fit: contain;
        }

        .candidate-details {
            display: flex;
            flex-direction: column;
            justify-content: center;
            line-height: 1.2;
        }

        .candidate-name {
            color: #ffffff;
            font-family: 'Segoe UI', sans-serif;
            font-size: 20px;
            /* Bigger Font */
            font-weight: 700;
            /* Bold */
            margin: 0;
            letter-spacing: 0.5px;
            text-transform: capitalize;
        }

        .test-badge {
            color: rgba(255, 255, 255, 0.85);
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 2px;
        }

        /* --- GLOBAL WATERMARK --- */
        body::after {
            content: "";
            position: fixed;
            inset: 0;
            background-image: url('https://i.ibb.co/fYNNzJYS/Gemini-Generated-Image-fb7rm1fb7rm1fb7r.png');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 50vmin;
            opacity: 0.1;
            z-index: 9999;
            pointer-events: none;
            filter: grayscale(100%);
            mix-blend-mode: multiply;
        }

        /* --- IMPROVED THANK YOU SCREEN --- */
        .ty-card {
            background: white;
            width: 90%;
            max-width: 750px;
            /* Wider on Laptop for grandeur */
            padding: 60px 40px;
            /* Generous spacing for symmetry */
            text-align: center;
            border-radius: 30px;
            box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: slideUp 0.4s ease-out;
        }

        .ty-header {
            font-size: 3.5rem;
            /* Very large, clear text */
            font-weight: 800;
            color: #0f172a;
            margin: 20px 0 15px 0;
            line-height: 1.1;
            letter-spacing: -1px;
        }

        .ty-msg {
            font-size: 1.4rem;
            /* Large, easy-to-read body text */
            color: #475569;
            line-height: 1.8;
            /* High readability */
            margin-bottom: 40px;
            max-width: 90%;
            /* Prevents text stretching too wide */
        }

        /* Mobile Adjustments */
        @media(max-width: 600px) {
            .ty-card {
                padding: 40px 20px;
            }

            .ty-header {
                font-size: 2.5rem;
            }

            /* Adjusted for phone screens */
            .ty-msg {
                font-size: 1.15rem;
                line-height: 1.6;
            }
        }

        /* --- RESUME NAVIGATION TOAST --- */
        .resume-toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            /* Hidden initially */
            background: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            border: 1px solid #e2e8f0;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            min-width: 300px;
        }

        .resume-toast.show {
            transform: translateX(-50%) translateY(0);
        }

        .rt-text {
            font-size: 0.9rem;
            color: #1e293b;
            flex: 1;
        }

        .rt-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.85rem;
            cursor: pointer;
            white-space: nowrap;
        }

        .rt-close {
            background: #f1f5f9;
            color: #64748b;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>

<body>

    <div id="instrOverlay"
        style="display:flex; position:fixed; inset:0; background:rgba(255,255,255,0.98); z-index:9999; align-items:center; justify-content:center; font-family:'Segoe UI', sans-serif;">
        <div
            style="width:100%; max-width:600px; background:white; padding:30px; border-radius:20px; box-shadow:0 25px 50px rgba(0,0,0,0.15); border:1px solid #e2e8f0; max-height:90vh; overflow-y:auto; margin:15px;">
            <div style="text-align:center; border-bottom:2px solid #eff6ff; padding-bottom:15px; margin-bottom:20px;">
                <h2 style="margin:0; color:#1e293b; font-size:22px;">üìú Instructions</h2>
                <p style="margin:5px 0 0; color:#64748b; font-size:14px;">Please read the marking scheme carefully</p>
            </div>

            <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-bottom:25px;">
                <div
                    style="background:#f0fdf4; padding:15px; border-radius:12px; border:1px solid #bbf7d0; text-align:center;">
                    <div style="color:#166534; font-size:12px; font-weight:700; text-transform:uppercase;">Correct
                        Answer</div>
                    <div style="font-size:24px; font-weight:800; color:#15803d;">+4</div>
                </div>
                <div
                    style="background:#fef2f2; padding:15px; border-radius:12px; border:1px solid #fecaca; text-align:center;">
                    <div style="color:#991b1b; font-size:12px; font-weight:700; text-transform:uppercase;">Incorrect
                        Answer</div>
                    <div style="font-size:24px; font-weight:800; color:#dc2626;">-1</div>
                </div>
            </div>

            <div
                style="background:#f8fafc; padding:20px; border-radius:12px; margin-bottom:25px; border:1px solid #e2e8f0;">
                <h3 style="margin:0 0 10px 0; font-size:16px; color:#334155;">üéÆ How to Submit:</h3>
                <ul style="margin:0; padding-left:20px; color:#475569; font-size:14px; line-height:1.6;">
                    <li><strong>Smartphone Users:</strong> Use the <span style="color:#dc2626; font-weight:bold;">Red
                            Submit Button</span> in the bottom footer.</li>
                    <li><strong>Laptop Users:</strong> Click 'Submit Test' on the sidebar.</li>
                    <li>You can review and change answers anytime before submitting.</li>
                </ul>
            </div>

            <button onclick="document.getElementById('instrOverlay').style.display='none'"
                style="width:100%; padding:16px; background:#2563eb; color:white; border:none; border-radius:12px; font-size:16px; font-weight:700; cursor:pointer; box-shadow:0 4px 12px rgba(37,99,235,0.2);">I
                am ready to begin ‚ûú</button>
        </div>
    </div>

    <div id="welcome-screen">
        <div class="welcome-card">
            <img src="https://i.ibb.co/fYNNzJYS/Gemini-Generated-Image-fb7rm1fb7rm1fb7r.png" alt="SocioLogic"
                style="height: 120px; width: auto; display: inline-block;">

            <h1 style="color:#1e293b; margin:0; font-size:1.8rem; letter-spacing:-0.5px;">YOUR PYQ BATTLE</h1>
            <p style="color:#64748b; margin-top:5px; margin-bottom:20px;">2021 CUET PG Full Paper</p>

            <div class="mode-selector">
                <div class="mode-btn active" onclick="setMode('desktop')" id="btn-desktop">
                    <span style="font-size:1.5rem">üíª</span>
                    <span style="font-size:0.9rem">Laptop/Tablet</span>
                </div>
                <div class="mode-btn" onclick="setMode('mobile')" id="btn-mobile">
                    <span style="font-size:1.5rem">üì±</span>
                    <span style="font-size:0.9rem">Mobile</span>
                </div>
            </div>

            <input type="text" id="candidateName" class="input-field" placeholder="Enter Your Name" autocomplete="off"
                style="margin-bottom:10px;">

            <input type="text" id="username" class="input-field" placeholder="Enter Registered Mobile" autocomplete="off">

            <div id="attempt-badge"
                style="margin-bottom:15px; font-size:0.85rem; color:#64748b; font-weight:600; padding:10px; border-radius:8px; background:#f1f5f9; border:1px solid #e2e8f0;">
                Waiting for Candidate ID...
            </div>
            <button id="start-btn" class="btn btn-pri"
                style="width:100%; justify-content:center; padding:15px; font-size:1.1rem;" onclick="startTest()">
                Start Examination ‚ûú
            </button>

            <button class="btn btn-sec" style="width:100%; justify-content:center; margin-top:10px;"
                onclick="openHistory()">
                üìú View Past Attempts
            </button>

            <div style="margin-top: 25px; border-top: 1px dashed #cbd5e1; padding-top: 20px;">
                <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 10px; font-weight:600;">New Student?</p>
                <a href="https://rzp.io/rzp/xddl5LdV" target="_blank" style="text-decoration: none;">
                    <button class="btn"
                        style="background: #10b981; color: white; width: 100%; justify-content: center; box-shadow: 0 4px 10px rgba(16, 185, 129, 0.3);">
                        ‚ö° Buy Full Access at just (‚Çπ99/-)
                    </button>
                </a>
                <div style="font-size:0.75rem; color:#94a3b8; margin-top:5px;">Last 4 digits of your phone will be your
                    ID</div>
            </div>
        </div>
    </div>

    <div id="history-modal">
        <div class="history-card">
            <div class="hist-header">
                <span class="hist-title">üìú Past Attempts</span>
                <button class="hist-close" onclick="closeHistory()">Close</button>
            </div>
            <div id="history-list" class="hist-list"></div>
        </div>
    </div>

    <div id="app-wrapper">
        <nav>
            <div class="header-left-section">
                <div class="logo-box">
                    <img src="https://i.ibb.co/fYNNzJYS/Gemini-Generated-Image-fb7rm1fb7rm1fb7r.png" alt="Logo" />
                </div>
                <div class="candidate-details">
                    <h1 class="candidate-name" id="nav-user">Guest</h1>
                    <div class="test-badge">CUET PG SOCIOLOGY 2021</div>
                </div>
            </div>
            <div class="timer-badge" id="timer">00:00:00</div>
            <button class="btn btn-sec" style="padding:8px;" onclick="toggleSidebar()" id="mob-menu">‚ò∞</button>
        </nav>

        <div class="container">
            <div class="main-area">
                <div class="q-card" id="q-panel"></div>
            </div>

            <aside class="sidebar" id="sidebar">
                <div
                    style="padding:15px; border-bottom:1px solid #e2e8f0; font-weight:700; color:#334155; display:flex; justify-content:space-between; align-items:center;">
                    <span>Question Map</span>
                    <span onclick="toggleSidebar()" style="cursor:pointer; font-size:1.2rem; display:none;"
                        id="mob-close-sb">‚úï</span>
                </div>
                <div class="sb-grid" id="palette"></div>
                <div style="padding:20px; border-top:1px solid #e2e8f0; margin-top:auto;">
                    <button class="btn btn-danger" style="width:100%; justify-content:center;"
                        onclick="finishTest()">SUBMIT TEST</button>
                </div>
            </aside>
        </div>

        <div class="footer-bar" style="padding:0 10px; gap:5px; height:auto; min-height:72px;">
            <div style="display:flex; gap:5px; flex:1;">
                <button class="btn btn-sec" onclick="clearResp()"
                    style="flex:1; justify-content:center; padding:10px; font-size:0.8rem;">Clear</button>
                <button class="btn btn-rev" onclick="markReview()" id="btn-review"
                    style="flex:1; justify-content:center; padding:10px; font-size:0.8rem;">üö© Review</button>
            </div>
            <div style="display:flex; gap:5px; flex:1.5;">
                <button class="btn btn-sec" onclick="nav(-1)" style="padding:10px;">Prev</button>
                <button class="btn btn-pri" onclick="nav(1)" id="btn-next"
                    style="flex:1; justify-content:center; padding:10px; font-size:0.9rem;">Next ‚ûú</button>
                <button class="btn btn-danger" onclick="finishTest()"
                    style="padding:10px; background:#dc2626; color:white;">Submit</button>
            </div>
        </div>
    </div>

    <div class="overlay" id="result-overlay">
        <div class="res-card">
            <div class="res-header">
                <h2>Assessment Report</h2>
                <div class="score-grid">
                    <div class="score-card-item">
                        <div class="sc-label">Attempted</div>
                        <div class="sc-value" id="disp-att">0</div>
                    </div>
                    <div class="score-card-item"
                        style="background: rgba(220, 252, 231, 0.25); border-color: rgba(220, 252, 231, 0.5);">
                        <div class="sc-label" style="color:#dcfce7;">Correct</div>
                        <div class="sc-value" style="color:#f0fdf4;" id="disp-cor">0</div>
                    </div>
                    <div class="score-card-item"
                        style="background: rgba(254, 226, 226, 0.25); border-color: rgba(254, 226, 226, 0.5);">
                        <div class="sc-label" style="color:#fee2e2;">Wrong</div>
                        <div class="sc-value" style="color:#fef2f2;" id="disp-wro">0</div>
                    </div>
                    <div class="score-card-item">
                        <div class="sc-label">Score</div>
                        <div class="sc-value" id="disp-score">0</div>
                    </div>
                </div>

                <button onclick="showThankYou()"
                    style="margin-top:15px; width:100%; padding:10px; background:#ffffff; color:#1e40af; border:none; border-radius:8px; font-weight:800; cursor:pointer; font-size:0.9rem; box-shadow:0 4px 6px rgba(0,0,0,0.1); transition:transform 0.2s;">
                    Exit & Save Report ‚ûú
                </button>
            </div>

            <div class="res-body">

                <div class="analysis-row">
                    <div class="analysis-box" style="border-left:4px solid #15803d;">
                        <div class="ab-title" style="color:#15803d">üí™ Strongest</div>
                        <div class="ab-val" id="area-strong">--</div>
                        <div style="font-size:0.75rem; color:#94a3b8; margin-top:3px;" id="area-strong-stat">Acc: 0%
                        </div>
                    </div>
                    <div class="analysis-box" style="border-left:4px solid #b91c1c;">
                        <div class="ab-title" style="color:#b91c1c">‚ö†Ô∏è Weakest</div>
                        <div class="ab-val" id="area-weak">--</div>
                        <div style="font-size:0.75rem; color:#94a3b8; margin-top:3px;" id="area-weak-stat">Acc: 0%</div>
                    </div>
                </div>

                <h3
                    style="font-size:0.95rem; font-weight:700; color:#0f172a; margin-bottom:15px; border-bottom:1px solid #e2e8f0; padding-bottom:8px;">
                    Detailed Explanations
                </h3>

                <div id="solution-feed"></div>

                <div style="text-align:center; margin-top:25px;">
                    <button class="btn btn-pri" style="width:100%; justify-content:center; padding:12px;"
                        onclick="showThankYou()">
                        Exit & Save Report
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="overlay" id="ty-screen">
        <div class="ty-card">

            <img src="https://i.ibb.co/fYNNzJYS/Gemini-Generated-Image-fb7rm1fb7rm1fb7r.png" alt="SocioLogic"
                style="height: 140px; width: auto; margin-bottom: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-radius: 50%;">

            <h1 class="ty-header">Test Submitted!</h1>

            <p class="ty-msg">
                Your performance on <b style="color:#1e40af;">SocioLogic</b> has been recorded.<br>
                You are one step closer to your <b style="color:#d97706;">DREAM UNIVERSITY</b>.
            </p>

            <a href="https://t.me/SocioLogicPYQs" target="_blank"
                style="text-decoration:none; width: 100%; max-width: 400px;">
                <button class="btn btn-pri"
                    style="width:100%; justify-content:center; padding: 16px; font-size: 1.1rem; border-radius: 12px; background: #0088cc;">
                    ‚úàÔ∏è Join Telegram Channel
                </button>
            </a>

            <div style="display: flex; gap: 15px; width: 100%; max-width: 500px; margin-top: 25px; flex-wrap: wrap;">

                <button class="btn btn-sec" onclick="location.reload()"
                    style="flex: 1; min-width: 200px; justify-content: center; padding: 16px; border-radius: 12px; font-weight: 700; border: 2px solid #e2e8f0; color: #475569;">
                    üîÑ View Current Page
                </button>

                <a href="index.html" style="text-decoration: none; flex: 1; min-width: 200px;">
                    <button class="btn btn-pri"
                        style="width: 100%; justify-content: center; padding: 16px; border-radius: 12px; background: #0f172a; color: white; font-weight: 700; box-shadow: 0 4px 12px rgba(15, 23, 42, 0.2);">
                        View Main Page
                    </button>
                </a>

            </div>
        </div>
    </div>
    <script>
        /* -------------------------------------------------------------
           PASTE YOUR QUESTION DATA HERE
           const questions = [ ... ];
        ------------------------------------------------------------- */
        const questions = [
            {
                topic: "Sociology Basics",
                text: "The term 'sociology' comprises of two words 'socius' and 'logos'. These two words are from which language group?",
                options: ["German and French", "French and Italian", "Latin and Greek", "French and English"],
                correct: 2,
                expl: {
                    correct: "The term Sociology is derived from the Latin word 'Socius' (meaning companion or associate) and the Greek word 'Logos' (meaning study or science).",
                    others: "German, French, Italian, and English are not the combination of origin languages for these specific roots.",
                    trick: "Remember 'L-G' for Latin-Greek: Socius (L) + Logos (G)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociological Thinkers",
                text: "Who argued that society has progressed through three stages namely theological, metaphysical and positive?",
                options: ["Emile Durkheim", "Max Weber", "Karl Marx", "Auguste Comte"],
                correct: 3,
                expl: {
                    correct: "Auguste Comte, the father of sociology, proposed the Law of Three Stages: Theological (fictitious), Metaphysical (abstract), and Positive (scientific).",
                    others: "Durkheim focused on social facts, Weber on social action, and Marx on historical materialism.",
                    trick: "Comte 'Counted' to three: 1. Theo, 2. Meta, 3. Positive."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Structure",
                text: "A complex web of social relationships formed as a system of usages and procedures, of authority and mutual aid, of many groupings and divisions, of controls of human behaviour and of liberties, which is always changing - may be best termed as",
                options: ["society", "family", "neighborhood", "Utopian society"],
                correct: 0,
                expl: {
                    correct: "This is the classic definition of Society given by R.M. MacIver and C.H. Page. They famously stated, 'Society is a web of social relationships'.",
                    others: "Family and neighborhood are specific groups within society; Utopian society is an idealized concept.",
                    trick: "Keywords: 'Web of social relationships' = Society (MacIver)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Community",
                text: "Wherever the members of any group, small or large, live together in such a way that they share, not this or that particular interest, but the basic conditions of a common life, we call that group as a/an",
                options: ["society", "community", "organisation", "association"],
                correct: 1,
                expl: {
                    correct: "This is the definition of Community by MacIver. The key distinction is sharing the 'basic conditions of a common life' within a locality.",
                    others: "Associations are formed for specific interests. Society is the abstract web of relationships.",
                    trick: "Common life + Locality = Community."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Status",
                text: "The status positions to which individuals are more or less automatically assigned on the basis of accidents of birth, is called as",
                options: ["ascribed status", "achieved status", "real status", "false status"],
                correct: 0,
                expl: {
                    correct: "Ascribed status is assigned at birth or involuntarily later in life (e.g., race, sex, caste). Ralph Linton introduced the distinction between ascribed and achieved status.",
                    others: "Achieved status is acquired on the basis of merit, effort, or choice.",
                    trick: "Ascribed = Assigned (at birth)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Status",
                text: "Those positions in which a person is placed because of some action or attainment on his/her part, is termed as",
                options: ["ascribed status", "achieved status", "real status", "false status"],
                correct: 1,
                expl: {
                    correct: "Achieved status is a position that is earned or chosen and reflects a person's skills, abilities, and efforts (e.g., occupation, education level).",
                    others: "Ascribed status is involuntary. Real/False status are not standard sociological terms for this distinction.",
                    trick: "Achieved = Action/Attainment."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Culture",
                text: "When there is a gap between keeping the same pace between the technical development of a society and its moral and legal institutions, it is called as",
                options: ["cultural lacuna", "cultural imbalance", "cultural lag", "cultural disturbance"],
                correct: 2,
                expl: {
                    correct: "Cultural Lag is a concept coined by William F. Ogburn. It refers to the time that elapses between the introduction of a new material culture (technology) and the adaptation of non-material culture (rules, norms) to it.",
                    others: "Cultural lacuna and imbalance are descriptive terms but 'Cultural Lag' is the specific sociological theory.",
                    trick: "Material runs fast, Non-material lags behind."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Culture",
                text: "A laptop and a mobile are the examples of",
                options: ["non-material culture", "material culture", "values", "norms"],
                correct: 1,
                expl: {
                    correct: "Material culture consists of the physical objects, resources, and spaces that people use to define their culture (e.g., tools, technology, buildings).",
                    others: "Non-material culture includes ideas, beliefs, values, and norms.",
                    trick: "If you can touch it, it is Material Culture."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Groups",
                text: "If you are a citizen of India, then the other citizens of India will be _____ for you.",
                options: ["in group members", "out group members", "known members", "family members"],
                correct: 0,
                expl: {
                    correct: "An In-group is a social group to which a person psychologically identifies as being a member. W.G. Sumner introduced the In-group/Out-group distinction.",
                    others: "Out-group members are those with whom an individual does not identify.",
                    trick: "In-group = 'We' feeling."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociological Theory",
                text: "The conflict analysis in sociology discipline begins with the usage of",
                options: ["Auguste Comte's theoretical analysis", "Emile Durkheim's theoretical analysis", "Karl Marx's theoretical analysis", "Max Weber's theoretical analysis"],
                correct: 2,
                expl: {
                    correct: "Karl Marx is considered the father of the Conflict perspective. He analyzed society as a struggle between classes (Bourgeoisie vs. Proletariat) over scarce resources.",
                    others: "Comte and Durkheim are associated with Functionalism. Weber influenced interactionism and conflict theory but Marx is the primary origin.",
                    trick: "Conflict = Class struggle = Marx."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Family",
                text: "Which of the following is the smallest family unit?",
                options: ["Extended family", "Joint family", "Neighborhood", "Nuclear family"],
                correct: 3,
                expl: {
                    correct: "A nuclear family consists of a couple and their dependent children, regarded as a basic social unit. It is the smallest kin group.",
                    others: "Extended and Joint families include more relatives. Neighborhood is a spatial unit, not a family unit.",
                    trick: "Nuclear = Nucleus (Core/Smallest)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Processes",
                text: "A process by which an outsider, immigrant, or subordinate group becomes indistinguishably integrated into the dominant host society is called as",
                options: ["cultural diffusion", "cultural assimilation", "cultural contribution", "cultural dissemination"],
                correct: 1,
                expl: {
                    correct: "Assimilation is the process whereby individuals or groups of differing ethnic heritage are absorbed into the dominant culture of a society.",
                    others: "Diffusion is the spread of cultural traits. Dissemination is scattering.",
                    trick: "Assimilation = Absorption."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Groups",
                text: "A group of friends is an example of",
                options: ["primary group", "secondary group", "tertiary group", "essential group"],
                correct: 0,
                expl: {
                    correct: "Primary groups (coined by C.H. Cooley) are characterized by close, face-to-face association and cooperation (e.g., family, playgroup, friends).",
                    others: "Secondary groups are larger and more impersonal (e.g., corporations).",
                    trick: "Friends = Face-to-face = Primary."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociological Literature",
                text: "Who is the author of the book, The Elementary Forms of Religious Life?",
                options: ["Auguste Comte", "Max Weber", "Karl Marx", "Emile Durkheim"],
                correct: 3,
                expl: {
                    correct: "Emile Durkheim authored 'The Elementary Forms of Religious Life' (1912), where he analyzed the totemism of Australian aborigines to understand the social origin of religion.",
                    others: "Weber wrote 'The Protestant Ethic'. Marx wrote on religion as the 'opium of the people' but not this book.",
                    trick: "Durkheim = Elementary Forms."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Control",
                text: "Those acts which do not follow the norms and expectations of a particular social group, are termed as",
                options: ["laws", "conformity", "deviance", "authority"],
                correct: 2,
                expl: {
                    correct: "Deviance refers to actions or behaviors that violate social norms, including formally enacted rules (e.g., crime) and informal violations.",
                    others: "Conformity is following norms. Laws are codified norms.",
                    trick: "Deviate = Stray from the path (norm)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Groups",
                text: "A group which covers a wide area that no two of its members need live in close proximity, and it is so large that all of its members could not possibly know one another personally, is called as",
                options: ["primary group", "secondary group", "essential group", "non-essential group"],
                correct: 1,
                expl: {
                    correct: "Secondary groups are large, impersonal groups where relationships are goal-oriented and often temporary (e.g., a nation, a large corporation, a trade union).",
                    others: "Primary groups rely on close proximity and personal knowledge.",
                    trick: "Large + Impersonal = Secondary."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Rural Sociology",
                text: "In which type of social group, we will find relatively simple forms of cultural expressions like folklore, folk legends, and folk songs?",
                options: ["Rural", "Urban", "Industrial", "Post-industrial"],
                correct: 0,
                expl: {
                    correct: "Rural societies are characterized by traditionalism, homogeneity, and 'folk' culture, which includes folklore and legends passed down orally.",
                    others: "Urban and industrial societies tend to have more complex, heterogeneous, and popular/mass cultures.",
                    trick: "Folk = Rural."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Urban Sociology",
                text: "What do you understand by 'anti-urban bias'?",
                options: ["Assumption that urban life is superior to rural life", "Assumption that rural life is not fruitful", "Assumption that urban life is inferior to rural life", "Assumption that both urban and rural life are equal"],
                correct: 2,
                expl: {
                    correct: "Anti-urban bias refers to a negative view of city life, often romanticizing rural life as pure and moral while viewing the city as corrupt, chaotic, or inferior.",
                    others: "The opposite view is pro-urban bias.",
                    trick: "Anti-urban = Disliking the city (preferring the village)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Roles",
                text: "If any person performs his or her roles according to the role obligations, it is termed as",
                options: ["deviance", "suppression", "violation", "conformity"],
                correct: 3,
                expl: {
                    correct: "Conformity is compliance with standards, rules, or laws. In sociology, it implies behaving according to the social norms and role expectations.",
                    others: "Deviance and violation are the opposite of conformity.",
                    trick: "Following the rules = Conformity."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Socialization",
                text: "If you are learning the customs, culture or behavior of a social group which you wish to join, the process will be called as",
                options: ["anti-socialization", "anticipatory socialization", "revolutionary socialization", "fake socialization"],
                correct: 1,
                expl: {
                    correct: "Anticipatory socialization (concept by R.K. Merton) is the process, facilitated by social interactions, in which non-group-members learn to take on the values and standards of groups that they aspire to join.",
                    others: "It's about 'anticipating' membership.",
                    trick: "Wish to join = Anticipating future membership."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Modernity",
                text: "The initial efforts of modernity during the Renaissance period were to set out a broadly _____ conception of rationality.",
                options: ["humanist", "bureaucratic", "consumerist", "evolutionary"],
                correct: 0,
                expl: {
                    correct: "The Renaissance was characterized by Humanism, which emphasized human potential, reason, and empirical observation, shifting focus away from divine/theological explanations.",
                    others: "Bureaucratic (Weber) and consumerist concepts came much later in the modern era.",
                    trick: "Renaissance = Humanism."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Systems",
                text: "An institution which is based upon technology, differentiated division of labour and use of inanimate sources of energy, may appropriately be called as",
                options: ["agrarian", "feudal", "barbaric", "industrial"],
                correct: 3,
                expl: {
                    correct: "Industrial societies are defined by the use of inanimate power sources (steam, electricity) and complex machinery, leading to a high division of labour.",
                    others: "Agrarian relies on animate power (animals/humans). Feudal is a political/economic system of land ownership.",
                    trick: "Inanimate energy + Technology = Industrial."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Stratification",
                text: "In which system can we find manorial lords, clergy, and serfs?",
                options: ["Industrial system", "Estate system", "Caste system", "Democratic system"],
                correct: 1,
                expl: {
                    correct: "The Estate system (Feudalism) of medieval Europe was stratified into three estates: the Clergy (First Estate), the Nobility/Lords (Second Estate), and the Commoners/Serfs (Third Estate).",
                    others: "Caste has Brahmins/Kshatriyas etc. Industrial has classes (owners/workers).",
                    trick: "Lords and Serfs = Estate System."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Mobility",
                text: "If we study an individual's occupational changes in the course of his or her lifetime, it will be termed as _____ mobility.",
                options: ["intra-generational", "inter-generational", "semi-generational", "multi-generational"],
                correct: 0,
                expl: {
                    correct: "Intra-generational mobility refers to changes in social position or occupation within a single person's lifetime.",
                    others: "Inter-generational mobility compares a person's status to that of their parents (across generations).",
                    trick: "Intra = Within (one life); Inter = Between (generations)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Secularization",
                text: "The process by which the transfer of power was made from the church to the state and it also signifies the decline of the religion in the society, is termed as",
                options: ["globalization", "regularization", "urbanization", "secularization"],
                correct: 3,
                expl: {
                    correct: "Secularization refers to the process where religious thinking, practice, and institutions lose social significance and public power is transferred to non-religious (secular) state entities.",
                    others: "Urbanization is the growth of cities. Globalization is global interconnection.",
                    trick: "Decline of religion = Secularization."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Racial Groups India",
                text: "The numerically significant racial group in Indian society is",
                options: ["Negrito", "Proto-Australoid", "Mongoloid", "Mediterranean"],
                correct: 3,
                expl: {
                    correct: "While classifications vary (e.g., Guha), the Mediterranean (often associated with Dravidian speakers and later Indo-Aryan admixture) represents a very large portion of the Indian population structure alongside Proto-Australoids.",
                    others: "Negritos are found in small pockets (Andaman, some south Indian tribes). Mongoloids are primarily in the North East and Himalayas.",
                    trick: "Mediterranean is a major element in the mainstream Indian population."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Indian History",
                text: "In the Indus Valley Civilization, which place was a port town?",
                options: ["Kalibangan", "Ropar", "Kot Diji", "Lothal"],
                correct: 3,
                expl: {
                    correct: "Lothal (in Gujarat) is famous for its massive dockyard, making it the major port city of the Indus Valley Civilization.",
                    others: "Kalibangan (Rajasthan), Ropar (Punjab), Kot Diji (Pakistan) were inland sites.",
                    trick: "Lothal = Port (Gujarat coast)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Indian Religion",
                text: "Among the Hindus, the 'Shakta' are the worshippers of",
                options: ["Shiva", "Vishnu", "Mother Goddess", "All of the above"],
                correct: 2,
                expl: {
                    correct: "Shaktism is a major tradition of Hinduism wherein the metaphysical reality is considered feminine and the Devi (Goddess) or Shakti is supreme.",
                    others: "Shaivites worship Shiva. Vaishnavites worship Vishnu.",
                    trick: "Shakta = Shakti (Mother Goddess)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Kinship",
                text: "An out-marrying social group, which traces descent from a common ancestor in the distant past, is termed as",
                options: ["Varna", "Jati", "Class", "Gotra"],
                correct: 3,
                expl: {
                    correct: "Gotra refers to a lineage or clan assigned to a Hindu at birth. In most cases, the system is exogamous (out-marrying), meaning one must marry outside their Gotra.",
                    others: "Jati is endogamous (marry within). Varna is the broad categorization.",
                    trick: "Gotra = Exogamous clan."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Caste System",
                text: "The theory of Varna system, which explains the origin of Varnas on the basis of Sattva, Rajas and Tamas is termed as",
                options: ["Theory of divine origin", "Guild theory", "Racial theory", "Triguna theory"],
                correct: 3,
                expl: {
                    correct: "The Guna theory (Triguna) attributes Varnas to the qualities inherent in nature: Sattva (purity/wisdom - Brahmin), Rajas (passion/activity - Kshatriya), and Tamas (inertia/darkness - Shudra).",
                    others: "Divine origin refers to Purusha Sukta. Racial theory links caste to race/colour.",
                    trick: "Sattva, Rajas, Tamas = 3 Gunas = Triguna."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Change India",
                text: "The process by which a low Hindu caste or tribal or other group, changes its customs, ritual, ideology and way of life in the direction of a high and frequently twice-born caste is termed as",
                options: ["westernization", "sanskritization", "urbanization", "adaptation"],
                correct: 1,
                expl: {
                    correct: "Sanskritization is a term coined by M.N. Srinivas to describe the process of upward social mobility in the caste hierarchy by emulating the rituals and practices of upper castes.",
                    others: "Westernization is adopting Western culture. Urbanization is moving to cities.",
                    trick: "Emulating upper caste rituals = Sanskritization."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Modernization",
                text: "The modernization process involves",
                options: ["dramatization of ends", "reduction of ends", "globalization of ends", "rationalization of ends"],
                correct: 3,
                expl: {
                    correct: "Modernization, particularly in the Weberian sense, involves the rationalization of social life‚Äîadopting efficiency, calculability, and logical consistency in pursuing goals (ends).",
                    others: "Rationalization is the key sociological trait of modernity.",
                    trick: "Modernity = Rationality."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Welfare",
                text: "The Balika Samridhi Yojana was initiated in the year",
                options: ["1987", "1997", "2007", "2017"],
                correct: 1,
                expl: {
                    correct: "The Balika Samridhi Yojana was launched by the Government of India on 15th August 1997 to change negative family and community attitudes towards the girl child.",
                    others: "1997 is the launch year.",
                    trick: "Balika Samridhi = 1997."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Constitution of India",
                text: "Under which Article of the Constitution of India, has the practice of untouchability been made a punishable offence?",
                options: ["Article 14", "Article 15", "Article 16", "Article 17"],
                correct: 3,
                expl: {
                    correct: "Article 17 of the Indian Constitution abolishes 'Untouchability' and forbids its practice in any form.",
                    others: "Art 14: Equality before law. Art 15: Non-discrimination. Art 16: Equality of opportunity.",
                    trick: "1-7 = Untouchability Abolished."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Minorities India",
                text: "Which religious minority in India is regarded as 'culturally insulated minority'?",
                options: ["Christian", "Sikh", "Bahai", "Parsi"],
                correct: 3,
                expl: {
                    correct: "Parsis are often described as a culturally insulated minority because they have maintained distinct cultural practices and strictly follow endogamy to preserve their identity while integrating economically.",
                    others: "Sikhs and Christians are more culturally integrated or diffused in various regions.",
                    trick: "Insulated = Parsis (strict boundaries to preserve ethnicity)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Research Methodology",
                text: "A scientific assertion must have",
                options: ["logical support", "empirical support", "both logical and empirical support", "absolute support"],
                correct: 2,
                expl: {
                    correct: "Science relies on both logic (theory/rationality) and empiricism (observation/data). A scientific assertion must be logically consistent and empirically verifiable.",
                    others: "Logic alone is philosophy. Empiricism alone is just data collection.",
                    trick: "Science = Logic + Evidence."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Research Concepts",
                text: "_____ are definite, certain, without questions, and their meaning is self-evident.",
                options: ["Hypotheses", "Perspectives", "Paradigms", "Facts"],
                correct: 3,
                expl: {
                    correct: "In positivist research, a 'fact' is considered an objective reality that is definite and verifiable. However, in interpretive sociology, facts are constructed.",
                    others: "Hypotheses are tentative. Perspectives and paradigms are frameworks, not self-evident truths.",
                    trick: "Definite and certain = Facts."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Research Methodology",
                text: "A proposition based upon deduction, which is put forward to a test to determine its validity, is called as",
                options: ["fact", "inquiry", "hypothesis", "abstraction"],
                correct: 2,
                expl: {
                    correct: "A hypothesis is a tentative statement or proposition about the relationship between two or more variables that is capable of being tested.",
                    others: "It is a starting point for investigation, derived from deduction.",
                    trick: "Proposition to test = Hypothesis."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Research Methodology",
                text: "Decisions regarding what, where, when, how much, by what means concerning an inquiry or a research study constitute a",
                options: ["hypothesis", "paradigm shift", "research design", "reflection"],
                correct: 2,
                expl: {
                    correct: "Research Design is the blueprint or framework for conducting the research project. It details the procedures necessary for obtaining the information.",
                    others: "It answers the 'what, where, when, how' of the study.",
                    trick: "The Plan = Research Design."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Research Methodology",
                text: "Find the incorrect statement from the following:",
                options: ["Sample design must result in truly representative sample.", "Sample design must be such which results in small sampling error.", "Sample design must be viable in the context of funds available.", "Sample design must be such so that systematic bias can be uncontrolled."],
                correct: 3,
                expl: {
                    correct: "The goal of sample design is to *control* or minimize systematic bias, not to leave it uncontrolled. Bias destroys the validity of the sample.",
                    others: "Representation, low error, and financial viability are correct goals.",
                    trick: "Systematic bias must be CONTROLLED, not uncontrolled."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sampling",
                text: "If we select every nth item on a list it will be called as _____ sampling method.",
                options: ["random", "systematic", "stratified", "snowball"],
                correct: 1,
                expl: {
                    correct: "Systematic sampling involves selecting every 'k-th' (or n-th) element from a list after a random start.",
                    others: "Random is pure chance. Stratified uses groups. Snowball relies on referrals.",
                    trick: "Every n-th item = Systematic."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Data Collection",
                text: "When the questions are typed or printed in a definite order on a form or set of forms, and the respondents are provided with these forms to answer on their own, the methods is termed as",
                options: ["interview", "questionnaire", "observation", "focused group discussion"],
                correct: 1,
                expl: {
                    correct: "A questionnaire is a research instrument consisting of a series of questions. The key feature here is that respondents answer 'on their own' (self-administered).",
                    others: "In an interview, the researcher asks and records. In observation, the researcher watches.",
                    trick: "Answer on their own = Questionnaire."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Statistics",
                text: "The factor of age illustrates",
                options: ["discrete variable", "binary variable", "continuous variable", "ordinal"],
                correct: 2,
                expl: {
                    correct: "Age is a continuous variable because it can take on any value within a range (e.g., 20 years, 3 months, 2 days, etc.) and is not limited to whole numbers (though often reported that way).",
                    others: "Discrete variables have gaps (e.g., number of children). Binary is 0/1.",
                    trick: "Age flows continuously = Continuous variable."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Statistics",
                text: "If in a table with distribution of data, we are taking a value - so that half the entries in the frequency table fall below and half above it, it will be called as",
                options: ["mean", "median", "mode", "centre point"],
                correct: 1,
                expl: {
                    correct: "The Median is the middle value in a distribution when the values are arranged in ascending or descending order. It splits the data 50/50.",
                    others: "Mean is average. Mode is most frequent.",
                    trick: "Middle/Halfway = Median."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Statistics",
                text: "In a table with distribution of data, the value represented by the greatest frequency, is called as",
                options: ["mean", "median", "mode", "centre point"],
                correct: 2,
                expl: {
                    correct: "The Mode is the value that appears most frequently in a data set.",
                    others: "Mean is average. Median is the middle.",
                    trick: "Most frequent = Mode."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "General Knowledge",
                text: "The full form of CPU is",
                options: ["Central Performing Unit", "Central Progressing Unit", "Central Processing Unit", "Central Playing Unit"],
                correct: 2,
                expl: {
                    correct: "CPU stands for Central Processing Unit. It is the primary component of a computer that acts as its 'brain'.",
                    others: "Processing is the correct technical term.",
                    trick: "CPU = Processing."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Research Skills",
                text: "A social science researcher interested in developing skills in computer data analysis, must be aware of-Choose the odd one out.",
                options: ["Storing the data in the computer", "Selection of appropriate software package", "Hardware repairing", "Hardware repairing"],
                correct: 2,
                expl: {
                    correct: "A researcher needs to know how to store data and select software (like SPSS/R), but 'Hardware repairing' is a technical IT skill, not a research skill.",
                    others: "Note: Option 4 duplicates Option 3 in the text provided, but repairing is definitely the odd one out for a data analyst.",
                    trick: "Analyst analyzes data, doesn't fix the machine."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Problems",
                text: "Which one of the following is incorrect regarding social problems?",
                options: ["It is deviation from the social ideal", "It is undesirable and abnormal situation", "It is for common good and welfare", "It is remediable by collective efforts"],
                correct: 2,
                expl: {
                    correct: "Social problems are by definition undesirable and harmful to society. They are NOT for the 'common good and welfare'.",
                    others: "They are deviations, undesirable, and require collective remedies.",
                    trick: "Social problem != Common good."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Durkheim",
                text: "A situation characterized by the relative absence or weakening or confusion of norms and values in a society or a group is termed as",
                options: ["social cohesion", "social integration", "social assimilation", "anomie"],
                correct: 3,
                expl: {
                    correct: "Anomie (a term popularized by Durkheim) refers to a state of normlessness or the breakdown of social norms and values.",
                    others: "Cohesion and integration are positive bonding states.",
                    trick: "Normlessness = Anomie."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Suicide",
                text: "When a person commits suicide because he/she thinks primarily of his/her own self, when is not integrated into a social group, when the desire that motivate is not limited to the measure compatible with human destiny by the social authority of the group, by the authority of obligations imposed by a narrow and powerful milieu - it is called",
                options: ["altruistic suicide", "egoistic suicide", "anomic suicide", "normal suicide"],
                correct: 1,
                expl: {
                    correct: "Egoistic suicide occurs when an individual has low integration into social groups. They are isolated and think primarily of themselves.",
                    others: "Altruistic is too much integration. Anomic is lack of regulation.",
                    trick: "Low Integration = Egoistic."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociological Perspectives",
                text: "The perspective which looks into the scriptures about the origin, purpose and future of the caste system is termed as",
                options: ["indological", "colonial construct", "guild theory", "scientific theory"],
                correct: 0,
                expl: {
                    correct: "The Indological perspective (associated with G.S. Ghurye and Louis Dumont) relies on ancient texts (scriptures) to understand Indian social institutions like caste.",
                    others: "Colonial construct views caste as a product of British census. Guild theory links it to occupation.",
                    trick: "Indological = India + Logic (Text/Scripture)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Intergroup Relations",
                text: "The prejudicial attitudes between in-groups and out-groups by which in-group members treat their attitudes, customs and behavior unquestionably and uncritically as superior to out-group social arrangements, the phenomenon is sociologically known as",
                options: ["jealousy", "motivation", "ethnocentrism", "xenophobia"],
                correct: 2,
                expl: {
                    correct: "Ethnocentrism (coined by W.G. Sumner) is the tendency to view one's own culture as superior and apply one's own cultural values to judge other cultures.",
                    others: "Xenophobia is fear of strangers. Jealousy is an emotion.",
                    trick: "Ethno (culture) + Center (central/superior)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Legislation",
                text: "The Dowry Prohibition Act was enacted in the year",
                options: ["1947", "1950", "1961", "1971"],
                correct: 2,
                expl: {
                    correct: "The Dowry Prohibition Act was enacted on 1st May 1961.",
                    others: "1947 is independence. 1950 is the constitution.",
                    trick: "Dowry banned in '61."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Legislation",
                text: "In which year the Protection of Women from Domestic Violence Act was enacted?",
                options: ["2002", "2004", "2006", "2009"],
                correct: 2,
                expl: {
                    correct: "The Act was passed in 2005 but came into force in October 2006. Given the options, 2006 is the accepted answer.",
                    others: "2005 is the enactment year usually cited, but 2006 is the implementation.",
                    trick: "Domestic Violence Act = 2005/2006."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Corruption",
                text: "In which year the Vohra Committee was constituted to study corruption in India?",
                options: ["1990", "1994", "1995", "1996"],
                correct: 1,
                expl: {
                    correct: "The Vohra Committee (on Criminalisation of Politics) was actually constituted in 1993. Among the options, 1994 is the closest to the report submission/discussion period.",
                    others: "1993 is the factual year, but exams often have slight variances.",
                    trick: "Vohra = Early 90s (1993/94)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Evolution",
                text: "The notion of social evolution was taken from the theories of _____ evolution.",
                options: ["physical", "chemical", "biological", "celestial"],
                correct: 2,
                expl: {
                    correct: "Early sociologists like Herbert Spencer and Morgan borrowed the concept of evolution from Biology (specifically Darwinian theory) to explain social change.",
                    others: "They drew analogies between the biological organism and society.",
                    trick: "Social Darwinism = Biological roots."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociological Thinkers",
                text: "In which of the following thinkers analysis in terms of social change, the elements of technology development (productive forces) and the relations between social classes has been of prime importance?",
                options: ["Karl Marx", "Herbert Spencer", "Vilfredo Pareto", "Emile Durkheim"],
                correct: 0,
                expl: {
                    correct: "Karl Marx's historical materialism posits that the mode of production (technology/forces + relations of production) drives social change and class conflict.",
                    others: "Spencer focused on evolution. Pareto on elites. Durkheim on solidarity.",
                    trick: "Productive forces + Class = Marx."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociological Concepts",
                text: "Who coined the term 'sanskritization'?",
                options: ["G. S. Ghurye", "M. N. Srinivas", "S. C. Dube", "Max Weber"],
                correct: 1,
                expl: {
                    correct: "M.N. Srinivas coined 'Sanskritization' in his study of the Coorgs of South India to describe lower castes emulating upper caste rituals.",
                    others: "Ghurye studied caste/race. Dube studied Indian villages.",
                    trick: "Srinivas = Sanskritization."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Change India",
                text: "According to M.N. Srinivas, the process of secularization has most influenced the _____ groups in India.",
                options: ["urban and illiterate", "rural and literate", "rural and illiterate", "urban and literate"],
                correct: 3,
                expl: {
                    correct: "Srinivas argued that while Sanskritization affects lower/rural castes, Westernization and Secularization primarily influence the urban and literate upper castes.",
                    others: "Rural areas are more influenced by Sanskritization.",
                    trick: "Secular/Western = Urban Literate."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Labour Laws",
                text: "The Factory Act, which raised the minimum age of worker to 14 and made provision for annual medical exam of the workers between 14 and 18 was passed in the year",
                options: ["1947", "1948", "1949", "1950"],
                correct: 1,
                expl: {
                    correct: "The Factories Act, 1948 is the key legislation governing factory workers in independent India.",
                    others: "It replaced earlier colonial acts.",
                    trick: "Factories Act = 1948."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Social Welfare",
                text: "Janani Suraksha Yojana (JSY) was launched in the year",
                options: ["2005", "2007", "2009", "2011"],
                correct: 0,
                expl: {
                    correct: "JSY was launched on 12 April 2005 under the National Rural Health Mission (NRHM) to reduce maternal and neonatal mortality.",
                    others: "2005 is the launch year.",
                    trick: "JSY = 2005."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Development",
                text: "The 1987 report on development, which is pioneer in defining sustainable development, is also known as",
                options: ["Brundtland Report", "Mayo Report", "Pachauri Report", "Warford Report"],
                correct: 0,
                expl: {
                    correct: "The Brundtland Report (titled 'Our Common Future') by the WCED in 1987 gave the classic definition of Sustainable Development.",
                    others: "It defined it as meeting present needs without compromising future generations.",
                    trick: "Sustainable = Brundtland."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Economy",
                text: "GNP stands for?",
                options: ["Gained National Product", "Given National Product", "Governed National Product", "Gross National Product"],
                correct: 3,
                expl: {
                    correct: "GNP stands for Gross National Product, an economic statistic that includes GDP plus any income earned by residents from overseas investments.",
                    others: "The terms Gained, Given, Governed are incorrect.",
                    trick: "GNP = Gross."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Positivism",
                text: "Positivism in modern social sciences, emulated the _____ model.",
                options: ["divine model", "gravitational model", "Spencer model", "Newtonian model"],
                correct: 3,
                expl: {
                    correct: "Positivism (Comte) sought to apply the methods of the natural sciences, specifically the Newtonian model of physics (laws, observation, cause-effect), to the study of society.",
                    others: "It rejected divine/theological models.",
                    trick: "Positivism = Physics/Newton."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Comte",
                text: "According to Auguste Comte, the stage in which the belief that abstract forces like nature, rather than personalized gods, explain virtually everything, is termed as",
                options: ["theological", "metaphysical", "scientific", "positivistic"],
                correct: 1,
                expl: {
                    correct: "In the Metaphysical stage, supernatural beings are replaced by abstract forces (like 'Nature') to explain events.",
                    others: "Theological uses Gods. Scientific/Positive uses laws.",
                    trick: "Abstract forces = Metaphysical."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Durkheim",
                text: "Emile Durkheim, gave the idea of social facts to differentiate sociology from",
                options: ["geology", "philosophy", "mechanics", "biology"],
                correct: 1,
                expl: {
                    correct: "Durkheim established sociology as a distinct empirical science, differentiating it from Philosophy (which was speculative) and Psychology (individual focus). Given the options, Philosophy is the disciplinary parent he separated from.",
                    others: "He used biological analogies but fought against biological reductionism.",
                    trick: "Sociology vs Philosophy (Empirical vs Speculative)."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Durkheim",
                text: "According to Emile Durkheim, the type of solidarity in a social group where individuals differ from one another as little as possible, resemble each other because they feel the same emotions, cherish the same values, and hold the same things sacred, possess",
                options: ["mechanical solidarity", "organic solidarity", "plastic solidarity", "divine solidarity"],
                correct: 0,
                expl: {
                    correct: "Mechanical solidarity exists in simple societies based on homogeneity (sameness) and a strong collective conscience.",
                    others: "Organic solidarity is based on difference and interdependence (division of labour).",
                    trick: "Same/Likeness = Mechanical."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Marx",
                text: "Karl Marx adopted the dialectical mode of logic from",
                options: ["Kant", "Socrates", "Hegel", "Plato"],
                correct: 2,
                expl: {
                    correct: "Marx adopted the Dialectic method from G.W.F. Hegel but 'turned it on its head' by applying it to material conditions (Historical Materialism) rather than ideas (Idealism).",
                    others: "Hegel was the direct influence.",
                    trick: "Marx flipped Hegel."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Conflict Theory",
                text: "Conflicts which arise from frustration of specific demands within the relationship and from estimates of gains of the participants, and which are directed at the presumed frustrating object, are called as _____ by Lewis Coser.",
                options: ["realistic conflict", "non-realistic conflict", "higher order conflict", "lower order conflict"],
                correct: 0,
                expl: {
                    correct: "Realistic conflict (Coser) is a means to a specific end/goal. It ceases if the goal is met.",
                    others: "Non-realistic conflict is an end in itself (venting tension).",
                    trick: "Specific demands/goals = Realistic."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Weber",
                text: "Max Weber's thoughts on verstehen were primarily derived from the field of",
                options: ["kinetics", "mechanics", "physics", "hermeneutics"],
                correct: 3,
                expl: {
                    correct: "Verstehen (interpretive understanding) is rooted in Hermeneutics, the tradition of text interpretation and understanding meaning, common in German philosophy.",
                    others: "Physics/Mechanics are natural sciences.",
                    trick: "Verstehen = Interpretation = Hermeneutics."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Interactionism",
                text: "Who is the author of the book, Mind, Self and Society?",
                options: ["Max Weber", "Herbert Blumer", "George Herbert Mead", "Charles Horton Cooley"],
                correct: 2,
                expl: {
                    correct: "Mind, Self and Society (1934) is the seminal work of George Herbert Mead, published posthumously by his students.",
                    others: "Blumer coined 'Symbolic Interactionism'. Cooley gave 'Looking Glass Self'.",
                    trick: "Mead = Mind."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Rural Sociology",
                text: "It is important to do rural sociology because",
                options: ["to reconstruct rural society on a higher basis", "to understand the economic forces working in the rural society", "to understand the social forces working in the rural society", "All of the above"],
                correct: 3,
                expl: {
                    correct: "Rural sociology aims to understand the complex social and economic forces in rural life to aid in reconstruction and development.",
                    others: "All options encompass the scope of the discipline.",
                    trick: "All of the above."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Rural India",
                text: "The traditional system in rural India, with occupational obligations, with the relationship of served and servicing castes is known as",
                options: ["class system", "industrial system", "bureaucratic system", "Jajmani system"],
                correct: 3,
                expl: {
                    correct: "The Jajmani system was an economic and social system in rural India based on the exchange of goods and services between landowning 'Jajmans' and service-providing 'Kamins'.",
                    others: "It is a pre-market, reciprocal system.",
                    trick: "Served and Servicing = Jajmani."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Land Systems",
                text: "Under which system, no intermediary proprietors were recognized, and the actual tillers of the soil were vested with a heritable and transferable right of property in their lands?",
                options: ["Zamindari system", "Raiyatwari system", "Both 1 and 2", "Kangani system"],
                correct: 1,
                expl: {
                    correct: "In the Raiyatwari system (introduced by Munro), the settlement was made directly with the 'Raiyats' (cultivators/tillers), eliminating intermediaries like Zamindars.",
                    others: "Zamindari had intermediaries. Kangani was a labor recruitment system.",
                    trick: "Raiyat = Peasant = Direct ownership."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Panchayati Raj",
                text: "After independence, Planning Commission of India adopted Panchayati Raj System based on the report of _____ committee.",
                options: ["Balwantrai Mehta", "Ashok Mehta", "G.V.K. Rao", "S. Mohinder Singh"],
                correct: 0,
                expl: {
                    correct: "The Balwantrai Mehta Committee (1957) recommended the establishment of the scheme of 'Democratic Decentralization', which came to be known as Panchayati Raj.",
                    others: "Ashok Mehta came later (1977).",
                    trick: "First Committee = Balwantrai Mehta."
                },
                paper: "CUET PG 2021"
            },
            {
                topic: "Sociology & Anthropology",
                text: "The study of Science of Man and his Works is studied in",
                options: ["History", "Anthropology", "Sociology", "Psychology"],
                correct: 1,
                expl: {
                    correct: "Anthropology is often defined as the 'science of man' (study of humans) and their works (culture/artifacts).",
                    others: "Sociology focuses on society/relationships; Psychology on the mind; History on past events.",
                    trick: "Science of Man = Anthropology."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Socialization",
                text: "The social process through which children develop an awareness of social norms and values and achieve a distinct sense of self is known as",
                options: ["Education", "Formal Education", "Socialization", "School Education"],
                correct: 2,
                expl: {
                    correct: "Socialization is the lifelong process through which individuals learn the norms, values, and culture of their society and develop their 'self'.",
                    others: "Education is a part of socialization, but the general process described is socialization.",
                    trick: "Developing self + learning norms = Socialization."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Social Status",
                text: "The social honour or prestige accorded to a person or a particular group by other members of society is known as",
                options: ["Stigma", "Status", "Status set", "Pattern behaviour"],
                correct: 1,
                expl: {
                    correct: "Status refers to the relative social position, honor, or prestige attached to a person/group in the social hierarchy.",
                    others: "Stigma is negative labeling. Status set is a collection of statuses.",
                    trick: "Social honour/prestige = Status."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Thinkers",
                text: "From the following who was the founder of Psychoanalysis?",
                options: ["Herbert Mead", "Charles Cooley", "Sigmund Freud", "Karl Marx"],
                correct: 2,
                expl: {
                    correct: "Sigmund Freud is the founder of Psychoanalysis.",
                    others: "Mead and Cooley are interactionists (Self). Marx is a conflict theorist.",
                    trick: "Psychoanalysis = Freud."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Mead",
                text: "Who said that self is a social self which requires a sociological perspective if we are to understand how self emerges and develops?",
                options: ["Sigmund Freud", "George Herbert Mead", "Jean Piaget", "Lev Vygotsky"],
                correct: 1,
                expl: {
                    correct: "G.H. Mead emphasized that the 'Self' is social and emerges through social interaction (taking the role of the other).",
                    others: "Freud focused on the psyche. Piaget on cognitive development.",
                    trick: "Social Self = Mead."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Social Change India",
                text: "The process of localization of tradition or reduction to less systematic and less reflective dimensions is referred to as",
                options: ["Universalization", "Parochialization", "Globalization", "Sanskritization"],
                correct: 1,
                expl: {
                    correct: "McKim Marriott defined 'Parochialization' as the downward spread of the Great Tradition to the Little Tradition, becoming localized and less systematic.",
                    others: "Universalization is the upward spread from Little to Great. Sanskritization is emulation of upper castes.",
                    trick: "Localization/Downward = Parochialization."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Sociological Theory",
                text: "Which of the following approaches gives more importance to the maintenance of order in society?",
                options: ["Functionalism", "Conflict Theory", "Interactionism", "Positivism"],
                correct: 0,
                expl: {
                    correct: "Functionalism (e.g., Durkheim, Parsons) focuses on social order, stability, and how parts of society work together to maintain equilibrium.",
                    others: "Conflict theory focuses on change/inequality. Interactionism on micro-actions.",
                    trick: "Order/Stability = Functionalism."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Social Legislation",
                text: "The Pre-Natal Diagnostic Techniques Act was passed in the year",
                options: ["2004", "1994", "1984", "2000"],
                correct: 1,
                expl: {
                    correct: "The PCPNDT Act was enacted in 1994 to ban prenatal sex determination.",
                    others: "It was amended in 2003, but passed in 1994.",
                    trick: "PCPNDT = 1994."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Suicide",
                text: "According to Durkheim, excessive regulation may result in ____ type of suicide.",
                options: ["Egoistic", "Altruistic", "Anomic", "Fatalistic"],
                correct: 3,
                expl: {
                    correct: "Fatalistic suicide occurs when regulation is excessive (e.g., slaves, prisoners), leaving no hope or individual agency.",
                    others: "Anomic is lack of regulation. Egoistic is lack of integration.",
                    trick: "Excessive Regulation = Fatalistic (Fate is sealed)."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Suicide",
                text: "An economic boom, according to Durkheim, might result in",
                options: ["Egoistic", "Altruistic", "Anomic", "Fatalistic"],
                correct: 2,
                expl: {
                    correct: "Anomic suicide occurs during sudden social changes (economic boom or bust) when norms/regulations break down and desires become unregulated.",
                    others: "Egoistic is isolation. Altruistic is self-sacrifice.",
                    trick: "Boom/Bust (Chaos) = Anomic."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Comte",
                text: "According to Comte, during the ____ thought and explanation developed based on science and empirical experimentation.",
                options: ["Theological stage", "Metaphysical stage", "Positive stage", "Dynamic stage"],
                correct: 2,
                expl: {
                    correct: "The Positive (or Scientific) stage is the final stage where explanations rely on observation, experiment, and scientific laws.",
                    others: "Theological uses religion. Metaphysical uses abstract philosophy.",
                    trick: "Science/Empirical = Positive."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Weber",
                text: "'The Protestant Ethic and the Spirit of Capitalism' is the major work of",
                options: ["Auguste Comte", "Max Weber", "Emile Durkheim", "Herbert Spencer"],
                correct: 1,
                expl: {
                    correct: "Max Weber wrote this classic work linking the ascetic values of Protestantism (specifically Calvinism) to the rise of rational capitalism.",
                    others: "Durkheim wrote 'Suicide'. Spencer wrote 'Principles of Sociology'.",
                    trick: "Protestant Ethic = Weber."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Social Evolution",
                text: "The ideas blended into the theory of social evolution are based on the key concept of\nA. Natural Selection/Survival of the fittest\nB. The inherent instability of all social systems",
                options: ["Only A is correct", "Only B is correct", "Both A and B are correct", "Both A and B are incorrect"],
                correct: 0,
                expl: {
                    correct: "Social evolutionism (Spencer) heavily borrowed 'Natural Selection' and 'Survival of the Fittest'. However, evolutionists generally viewed systems as evolving towards higher complexity and stability, not 'inherent instability' (which is a Conflict view).",
                    others: "Instability is not a core tenet of classical evolutionary theory.",
                    trick: "Spencer = Survival of the Fittest."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Durkheim",
                text: "For Durkheim, ____ is the complex division of labour that underpins the industrial economies of modern societies where everyone is interdependent.",
                options: ["Organic Solidarity", "Mechanical Solidarity", "Integrated Solidarity", "Individualised Solidarity"],
                correct: 0,
                expl: {
                    correct: "Organic solidarity is found in modern, industrial societies with a high division of labour, where people depend on each other like organs in a body.",
                    others: "Mechanical solidarity is based on sameness in traditional societies.",
                    trick: "Modern/Complex = Organic."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Sociological Literature",
                text: "Match List I with List II\nList I:\nA. Karl Marx\nB. Emile Durkheim\nC. G.H. Mead\nD. Max Weber\n\nList II:\nI. Mind, Self and Society\nII. Economy and Society\nIII. The Division of Labour in Society\nIV. Communist Manifesto",
                options: ["A-III, B-II, C-IV, D-I", "A-I, B-II, C-III, D-IV", "A-IV, B-III, C-I, D-II", "A-IV, B-III, C-II, D-I"],
                correct: 2,
                expl: {
                    correct: "Marx = Communist Manifesto (IV); Durkheim = Division of Labour (III); Mead = Mind, Self and Society (I); Weber = Economy and Society (II).",
                    others: "Check the authors against their famous books.",
                    trick: "Marx-Manifesto, Weber-Economy."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Spencer",
                text: "The theory of social change as advocated by Spencer traces the change from ____ to industrial society.",
                options: ["Hunting-gathering", "Military", "Ancient society", "Capitalism"],
                correct: 1,
                expl: {
                    correct: "Herbert Spencer classified societies into 'Militant' (compulsory cooperation) and 'Industrial' (voluntary cooperation).",
                    others: "Hunting-gathering is an economic type. Ancient/Capitalism are Marx's terms.",
                    trick: "Spencer = Militant vs Industrial."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Mead",
                text: "In Mead's theory of development of the self, the first stage has been referred to as:",
                options: ["The Game stage", "The Play stage", "The Nascent stage", "The Primary stage"],
                correct: 1,
                expl: {
                    correct: "Mead's stages are typically: 1. Preparatory/Imitation, 2. Play Stage, 3. Game Stage. Among the options, 'Play stage' is the earliest standard stage listed.",
                    others: "Game stage comes after Play. 'Nascent' and 'Primary' are not standard Mead terminology.",
                    trick: "Play comes before Game."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Assimilation",
                text: "The process by which an outsider, immigrant or subordinate group, becomes indistinguishably integrated into the dominant host society is referred to as",
                options: ["Accommodation", "Assimilation", "Competition", "Integration"],
                correct: 1,
                expl: {
                    correct: "Assimilation is the process where a minority group fully adopts the culture of the dominant group, often losing its distinct identity.",
                    others: "Accommodation implies coexistence. Integration maintains some identity.",
                    trick: "Indistinguishable = Assimilation."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Tonnies",
                text: "According to Tonnies, Gesellschaft refers to",
                options: ["small, rural, tightly knit communities", "associational, impersonal, industrial society", "kin group", "household"],
                correct: 1,
                expl: {
                    correct: "Gesellschaft (Society/Association) refers to modern, urban, impersonal relationships based on self-interest.",
                    others: "Gemeinschaft (Community) refers to close, rural, kin-based bonds.",
                    trick: "Gesellschaft = Sell (Business/Impersonal)."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Cultural Lag",
                text: "The concept of cultural lag was given by",
                options: ["Ogburn", "Redfield", "Tylor", "Morgan"],
                correct: 0,
                expl: {
                    correct: "William F. Ogburn introduced 'Cultural Lag' in his book 'Social Change' (1922).",
                    others: "Tylor defined culture. Redfield studied Little/Great traditions.",
                    trick: "Cultural Lag = Ogburn."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Culture",
                text: "Who observed that, 'the culture of a society is the way of life of its members: the collection of ideas and habits which they learn, share and transmit from generation to generation'?",
                options: ["Ralph Linton", "Max Weber", "Emile Durkheim", "Clyde Kluckhohn"],
                correct: 0,
                expl: {
                    correct: "This specific definition of culture as the 'way of life' and 'collection of ideas and habits' is attributed to Ralph Linton.",
                    others: "Kluckhohn also defined culture but Linton's phrasing is the 'way of life'.",
                    trick: "Linton = Way of Life."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Kinship",
                text: "An unilineal kin group, claiming descent from a common ancestor, often represented by a totem is called",
                options: ["Extended family", "Clan", "Neighbourhood", "Cognate"],
                correct: 1,
                expl: {
                    correct: "A Clan is a unilineal descent group where members claim common ancestry (often mythical or totemic) but cannot trace the exact genealogical links.",
                    others: "Lineage traces exact links. Clan is broader.",
                    trick: "Totem + Common Ancestor = Clan."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Sociological Literature",
                text: "The classic study, 'Folkways' was authored by",
                options: ["Sumner", "Marriott", "Ogburn", "Redfield"],
                correct: 0,
                expl: {
                    correct: "William Graham Sumner wrote 'Folkways' (1906), distinguishing between folkways (norms) and mores (moral norms).",
                    others: "Ogburn wrote Social Change. Marriott wrote on Indian villages.",
                    trick: "Sumner = Folkways."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Deviance",
                text: "Who has argued that, 'deviance is not a quality of the act a person commits, but rather a consequence of the application by others of rules and sanctions to an offender?'",
                options: ["Merton", "Becker", "Lemert", "Goffman"],
                correct: 1,
                expl: {
                    correct: "Howard Becker, in his Labeling Theory (Book: Outsiders), argued that deviance is created by society labeling certain acts/people as deviant.",
                    others: "Merton gave Strain theory. Lemert distinguished primary/secondary deviance.",
                    trick: "Deviance is a Label = Becker."
                },
                paper: "CUET PG 2022"
            },
            {
                topic: "Research Tools",
                text: "Identify the one which is NOT an online database.",
                options: ["ERIC", "Proquest", "Google Scholar", "Anomie"],
                correct: 3,
                expl: {
                    correct: "Anomie is a sociological concept (normlessness), not a research database.",
                    others: "ERIC, Proquest, and Google Scholar are well-known academic databases.",
                    trick: "Anomie is a concept, not a tool."
                },
                paper: "CUET PG 2022"
            }

        ]




        //
        // 'CUET PG 2021 Full Paper';

        // --- SECURITY CONFIGURATION ---
        // 1. PASTE YOUR GOOGLE SCRIPT URL HERE:
        // 1. PASTE YOUR GOOGLE SCRIPT URL HERE (From your Deployment):
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxLOznQI6LSDWDsM5IvSJxKDpYUQNmM1dzB1VSQns2tkSs4k4d9FxhbF3Za1K-vkEMdIg/exec";

        // 2. UNIQUE NAME FOR THIS SPECIFIC TEST (Demand #3)
        // Change this string for every new HTML file you create (e.g., "History_2025", "Mock_01")
        const TEST_ID = "CUET PG 2021 Full Paper";

        // 2. SETTINGS
        const MAX_ATTEMPTS = 5;
        const SECONDS_PER_QUESTION = 72;

        // 3. VARIABLES
        let responses = new Array(questions.length).fill(null);
        let status = new Array(questions.length).fill(0);
        let timeLeft = questions.length * SECONDS_PER_QUESTION;
        let timerRef, checkTimer, isMobile;
        let userName = "Student";
        let history = []; // Local session history

        // --- INITIALIZATION ---
        window.onload = function () {
            isMobile = window.innerWidth < 768;
            if (isMobile) setMode('mobile'); else setMode('desktop');

            document.getElementById('timer').innerText = formatTime(timeLeft);

            // Listeners
            document.getElementById('candidateName').addEventListener('input', checkStartConditions);
            document.getElementById('username').addEventListener('keyup', handleIdInput);

            // Auto-Fill from Dashboard
            const savedID = localStorage.getItem('socio_user_id');
            const savedName = localStorage.getItem('socio_user_name');
            if (savedID) {
                document.getElementById('username').value = savedID;
                document.getElementById('candidateName').value = savedName || "";
                handleIdInput();
            }

            // FEATURE: Guest Hint & Placeholder for Free Tests
            if (typeof TEST_ID !== 'undefined' && TEST_ID.toUpperCase().startsWith("FREE")) {
                const idBox = document.getElementById('username');
                idBox.placeholder = "Enter ID: SocioLogic";

                // Avoid duplicate hint if already exists
                if (!idBox.parentNode.querySelector('.guest-hint')) {
                    const hint = document.createElement("div");
                    hint.className = "guest-hint";
                    hint.innerHTML = "üí° <b>Guest Access:</b> Type <span style='color:#2563eb; font-weight:800;'>SocioLogic</span>";
                    hint.style.cssText = "font-size:0.85rem; color:#64748b; margin:-10px 0 15px 0; background:#eff6ff; padding:8px; border-radius:8px; border:1px dashed #bfdbfe;";
                    idBox.parentNode.insertBefore(hint, idBox.nextSibling);
                }
            }
        };

        function formatTime(s) {
            let h = Math.floor(s / 3600).toString().padStart(2, '0');
            let m = Math.floor((s % 3600) / 60).toString().padStart(2, '0');
            let sec = (s % 60).toString().padStart(2, '0');
            return `${h}:${m}:${sec}`;
        }

        function setMode(mode) {
            isMobile = (mode === 'mobile');
            const dBtn = document.getElementById('btn-desktop');
            const mBtn = document.getElementById('btn-mobile');
            if (dBtn && mBtn) {
                dBtn.className = isMobile ? 'mode-btn' : 'mode-btn active';
                mBtn.className = isMobile ? 'mode-btn active' : 'mode-btn';
            }
        }

        // --- ID CHECK (RESTORED MAGIC FIX) ---
        function handleIdInput() {
            const idVal = document.getElementById('username').value.trim();
            const badge = document.getElementById('attempt-badge');
            const btn = document.getElementById('start-btn');

            // Disable button while typing
            btn.disabled = true;
            btn.style.backgroundColor = "#cbd5e1";
            btn.style.cursor = "not-allowed";

            clearTimeout(checkTimer);

            // 1. Basic Length Check
            if (idVal.length < 10 && idVal.toUpperCase() !== "SOCIOLOGIC") {
                badge.innerHTML = "Enter 10-digit Mobile...";
                badge.style.background = "#f1f5f9"; badge.style.color = "#64748b"; badge.style.borderColor = "#e2e8f0";
                return;
            }

            // --- MAGIC FIX: IMMEDIATE UNLOCK FOR FREE TESTS ---
            if (typeof TEST_ID !== 'undefined' && TEST_ID.toUpperCase().startsWith("FREE")) {
                badge.innerHTML = `‚úÖ <b>Free Access:</b> Unlimited Attempts Allowed`;
                badge.style.background = "#dcfce7"; badge.style.color = "#15803d"; badge.style.borderColor = "#86efac";
                checkStartConditions(); // Unlock immediately
                return;
            }
            // --------------------------------------------------

            // 2. Paid Tests: Check Cloud
            badge.innerHTML = "üîÑ Checking Cloud Records...";
            badge.style.background = "#fffbeb"; badge.style.color = "#d97706";

            checkTimer = setTimeout(() => {
                fetch(SCRIPT_URL + "?type=check&id=" + encodeURIComponent(idVal) + "&test=" + encodeURIComponent(TEST_ID))
                    .then(res => res.text())
                    .then(data => {
                        if (data === "BLOCK_NOT_PAID") {
                            badge.innerHTML = "‚õî <b>ID Not Authorized.</b> Please buy access.";
                            badge.style.background = "#fee2e2"; badge.style.color = "#b91c1c"; badge.style.borderColor = "#fecaca";
                        } else {
                            const used = parseInt(data) || 0;
                            if (used >= MAX_ATTEMPTS) {
                                badge.innerHTML = `‚ö†Ô∏è <b>Limit Reached</b> (Used: ${used}/${MAX_ATTEMPTS})`;
                                badge.style.background = "#fee2e2"; badge.style.color = "#b91c1c"; badge.style.borderColor = "#fecaca";
                            } else {
                                badge.innerHTML = `‚úÖ <b>Attempt ${used + 1} Available</b> (${MAX_ATTEMPTS - used} left)`;
                                badge.style.background = "#dcfce7"; badge.style.color = "#15803d"; badge.style.borderColor = "#86efac";
                                checkStartConditions();
                            }
                        }
                    })
                    .catch(() => {
                        badge.innerHTML = "‚ùå Network Error";
                        // Fallback: Allow start if network fails? Better to block to prevent bypass.
                    });
            }, 800);
        }

        function checkStartConditions() {
            const name = document.getElementById('candidateName').value.trim();
            const id = document.getElementById('username').value.trim();
            const badgeText = document.getElementById('attempt-badge').innerText;
            const btn = document.getElementById('start-btn');

            if (name.length > 0 && id.length >= 4 && (badgeText.includes("‚úÖ") || badgeText.includes("Unlimited"))) {
                btn.disabled = false;
                btn.style.backgroundColor = "#2563eb";
                btn.style.cursor = "pointer";
                btn.innerText = "Start Examination ‚ûú";
            }
        }

        // --- START TEST (TRACKING) ---
        function startTest() {
            const nameVal = document.getElementById('candidateName').value.trim();
            const idVal = document.getElementById('username').value.trim();

            userName = nameVal;
            document.getElementById('nav-user').innerText = userName.split(' ')[0];

            // Track Attempt (Only if NOT Free/Guest)
            if (!TEST_ID.toUpperCase().startsWith("FREE")) {
                fetch(SCRIPT_URL + "?type=track&id=" + encodeURIComponent(idVal) + "&test=" + encodeURIComponent(TEST_ID) + "&name=" + encodeURIComponent(nameVal));
            }

            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('app-wrapper').style.display = 'flex';

            if (isMobile) {
                document.body.classList.add('mobile-mode');
                document.getElementById('mob-menu').style.display = 'block';
                document.getElementById('mob-close-sb').style.display = 'block';
            } else {
                document.body.classList.remove('mobile-mode');
                document.getElementById('mob-menu').style.display = 'none';
            }

            initTest();
        }

        // --- TEST ENGINE ---
        let current = 0;
        function initTest() {
            renderQ(0);
            renderPalette();
            clearInterval(timerRef);
            timerRef = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = formatTime(timeLeft);
                if (timeLeft <= 0) finishTest();
            }, 1000);
        }

        function renderQ(idx) {
            current = idx;
            const q = questions[idx];
            if (status[idx] === 0) { status[idx] = 1; renderPalette(); }

            const optionsHtml = q.options.map((opt, i) => {
                const isSelected = responses[idx] === i;
                let cls = isSelected ? 'option selected' : 'option';
                if (status[idx] === 4 && isSelected) cls += ' review-marked';

                return `<div class="${cls}" onclick="selectOpt(${i})">
                <div class="opt-key">${String.fromCharCode(65 + i)}</div>
                <div style="flex:1">${opt}</div>
            </div>`;
            }).join('');

            document.getElementById('q-panel').innerHTML = `
            <div class="q-header"><span class="topic-tag">${q.topic}</span><span>Q.${idx + 1}/${questions.length}</span></div>
            <div class="q-text">${q.text}</div>
            <div>${optionsHtml}</div>`;
        }

        function selectOpt(i) {
            responses[current] = i;
            status[current] = (status[current] >= 3) ? 4 : 2;
            renderQ(current); renderPalette();
        }

        function nav(d) {
            let next = current + d;
            if (next >= 0 && next < questions.length) renderQ(next);
        }

        function renderPalette() {
            document.getElementById('palette').innerHTML = questions.map((_, i) => {
                let cls = 'grid-btn';
                if (i === current) cls += ' st-curr';
                if (status[i] === 2) cls += ' st-ans';
                else if (status[i] === 3) cls += ' st-rev';
                else if (status[i] === 4) cls += ' st-ans-rev';
                return `<div class="${cls}" onclick="renderQ(${i})">${i + 1}</div>`;
            }).join('');
        }

        function markReview() {
            status[current] = (responses[current] !== null) ? 4 : 3;
            renderPalette(); nav(1);
        }

        function clearResp() { responses[current] = null; status[current] = 1; renderQ(current); renderPalette(); }
        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('active'); }

        // --- SUBMIT & SYNC ---
        function finishTest() {
            clearInterval(timerRef);
            let s = 0, c = 0, w = 0;
            responses.forEach((ans, i) => {
                if (ans === questions[i].correct) { s += 4; c++; }
                else if (ans !== null && ans !== undefined) { s -= 1; w++; }
            });

            const id = document.getElementById('username').value.trim();
            const name = document.getElementById('candidateName').value.trim();

            // Show Result Immediately
            renderResultScreen({ userResponses: [...responses] });

            // Cloud Sync (Skip if Free Test & using dummy ID)
            if (!TEST_ID.toUpperCase().startsWith("FREE") || id.toUpperCase() !== "SOCIOLOGIC") {
                const resStr = responses.map(r => (r === null || r === undefined) ? '' : r).join(",");
                const url = SCRIPT_URL + "?type=submit&id=" + encodeURIComponent(id) + "&test=" + encodeURIComponent(TEST_ID) + "&score=" + s + "&name=" + encodeURIComponent(name) + "&resp=" + encodeURIComponent(resStr);
                fetch(url, { mode: 'no-cors' });
            }
        }

        // --- ANALYSIS SCREEN ---
        function renderResultScreen(data) {
            let s = 0, c = 0, w = 0, att = 0;
            const resps = data.userResponses || [];

            questions.forEach((q, i) => {
                const ans = resps[i];
                if (ans !== null && ans !== undefined) {
                    att++;
                    if (ans === q.correct) { s += 4; c++; } else { s -= 1; w++; }
                }
            });

            const max = questions.length * 4;

            // Update DOM
            if (document.getElementById('disp-att')) document.getElementById('disp-att').innerText = `${att}/${questions.length}`;
            if (document.getElementById('disp-cor')) document.getElementById('disp-cor').innerText = c;
            if (document.getElementById('disp-wro')) document.getElementById('disp-wro').innerText = w;
            if (document.getElementById('disp-score')) document.getElementById('disp-score').innerText = `${s}/${max}`;

            document.getElementById('welcome-screen').style.display = 'none';
            document.getElementById('app-wrapper').style.display = 'none';
            document.getElementById('result-overlay').style.display = 'flex';

            // Analysis Feed
            const feed = document.getElementById('solution-feed');
            if (feed) {
                let html = "", topicStats = {};
                questions.forEach((q, i) => {
                    const ans = resps[i], isCor = (ans === q.correct);
                    if (!topicStats[q.topic]) topicStats[q.topic] = { t: 0, c: 0 };
                    topicStats[q.topic].t++; if (isCor) topicStats[q.topic].c++;

                    let statusIcon = isCor ? '<span class="txt-green">‚úì Correct</span>' : (ans !== null && ans !== undefined ? '<span class="txt-red">‚úï Incorrect</span>' : '<span>‚óã Skipped</span>');
                    let rowClass = isCor ? 'correct' : (ans !== null && ans !== undefined ? 'wrong' : '');

                    const opts = q.options.map((opt, idx) => {
                        let style = "padding:8px 12px; border-radius:8px; margin-bottom:5px; border:1px solid #e2e8f0; background:#f8fafc; color:#64748b;";
                        if (idx === q.correct) style = "padding:8px; border-radius:8px; margin-bottom:5px; border:1px solid #bbf7d0; background:#dcfce7; color:#166534; font-weight:600;";
                        else if (idx === ans && !isCor) style = "padding:8px; border-radius:8px; margin-bottom:5px; border:1px solid #fecaca; background:#fee2e2; color:#991b1b; font-weight:600;";
                        return `<div style="${style}"><b>${String.fromCharCode(65 + idx)}.</b> ${opt}</div>`;
                    }).join('');

                    html += `<div class="exp-row ${rowClass}">
                    <div style="display:flex; justify-content:space-between; font-weight:700;">
                        <span style="color:#64748b; font-size:0.8rem">${q.topic}</span>${statusIcon}
                    </div>
                    <div style="font-weight:600; margin:10px 0;">Q${i + 1}: ${q.text}</div>
                    <div style="margin-bottom:20px; font-size:0.95rem;">${opts}</div>
                    <div class="exp-detail">
                        <div class="why-box"><span class="txt-green">‚úÖ Solution:</span> ${q.expl.correct}</div>
                        <div class="why-box"><span class="txt-red">‚ùå Error Analysis:</span> ${q.expl.others}</div>
                        <div style="background:#fffbeb; padding:10px; border:1px dashed #f59e0b; border-radius:8px; margin-top:8px;">üí° <b>Trick:</b> ${q.expl.trick}</div>
                    </div>
                </div>`;
                });
                feed.innerHTML = html;

                // Weak/Strong
                let best = { n: '-', v: -1 }, worst = { n: '-', v: 101 };
                for (let t in topicStats) {
                    let acc = (topicStats[t].c / topicStats[t].t) * 100;
                    if (acc > best.v) best = { n: t, v: acc };
                    if (acc < worst.v) worst = { n: t, v: acc };
                }
                if (document.getElementById('area-strong')) document.getElementById('area-strong').innerText = best.n;
                if (document.getElementById('area-weak')) document.getElementById('area-weak').innerText = worst.n;
            }
        }

        function showThankYou() {
            document.getElementById('result-overlay').style.display = 'none';
            document.getElementById('ty-screen').style.display = 'flex';
        }

        // --- CLOUD HISTORY & REVIEW ---
        function openHistory() {
            const id = document.getElementById('username').value.trim();
            const list = document.getElementById('history-list');
            if (id.length < 4) { alert("Enter ID first."); return; }

            document.getElementById('history-modal').style.display = 'flex';
            list.innerHTML = `<div style="padding:30px; text-align:center;">üîÑ Loading Cloud Records...</div>`;

            fetch(SCRIPT_URL + "?type=history&id=" + encodeURIComponent(id))
                .then(r => r.json())
                .then(data => {
                    list.innerHTML = "";
                    const myData = data.filter(d => d.test === TEST_ID).reverse();
                    if (myData.length === 0) list.innerHTML = `<div class="hist-empty">No records found.</div>`;
                    else {
                        myData.forEach((rec, i) => {
                            list.innerHTML += `<div class="hist-item" onclick="loadCloudReview('${rec.resp || ""}')" style="cursor:pointer;">
                            <div class="h-left"><span class="h-title">Attempt #${myData.length - i}</span><span class="h-date">${rec.date}</span></div>
                            <div style="display:flex; align-items:center; gap:10px;"><span style="font-size:0.75rem; color:#2563eb; text-decoration:underline;">Review</span><div class="h-score-badge">${rec.score} Marks</div></div>
                        </div>`;
                        });
                    }
                })
                .catch(() => list.innerHTML = `<div style="padding:30px; text-align:center; color:red;">Connection Failed</div>`);
        }

        function closeHistory() { document.getElementById('history-modal').style.display = 'none'; }
        function loadCloudReview(respStr) {
            if (!respStr) { alert("Data unavailable."); return; }
            const arr = respStr.split(',').map(x => x === '' ? null : parseInt(x));
            closeHistory();
            document.getElementById('welcome-screen').style.display = 'none';
            renderResultScreen({ userResponses: arr });
        }
    </script>

</body>

</html>